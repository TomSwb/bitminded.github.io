<div class="step-stripe-creation">
    <div class="step-stripe-creation__header">
        <h2 class="step-stripe-creation__title">Step 5: Stripe Product Creation</h2>
        <p class="step-stripe-creation__description">
            Configure pricing and create Stripe products for payment processing.
        </p>
    </div>

    <div class="step-stripe-creation__content">
        <!-- Pricing Model Selection -->
        <div class="step-stripe-creation__section">
            <h3 class="step-stripe-creation__section-title">Pricing Model</h3>
            
            <div class="step-stripe-creation__pricing-options">
                <label class="step-stripe-creation__radio-label">
                    <input type="radio" name="pricing_type" value="freemium" checked>
                    <span>Freemium (Free with immediate access)</span>
                </label>
                <small class="step-stripe-creation__help">Free product with immediate access, no pricing or trial configuration needed</small>

                <label class="step-stripe-creation__radio-label">
                    <input type="radio" name="pricing_type" value="one_time">
                    <span>One-Time Payment</span>
                </label>
                <small class="step-stripe-creation__help">Single payment, lifetime access</small>

                <label class="step-stripe-creation__radio-label">
                    <input type="radio" name="pricing_type" value="subscription">
                    <span>Subscription</span>
                </label>
                <small class="step-stripe-creation__help">Recurring monthly or yearly payments</small>
            </div>
        </div>

        <!-- Freemium Info -->
        <div class="step-stripe-creation__section" id="freemium-pricing">
            <div class="step-stripe-creation__field-group">
                <p class="step-stripe-creation__info">
                    <strong>Freemium products are free with immediate access.</strong><br>
                    No pricing configuration or trial period is needed. The product will be created with 0 CHF, USD, EUR, and GBP prices.
                </p>
            </div>
        </div>

        <!-- Subscription Pricing -->
        <div class="step-stripe-creation__section" id="subscription-pricing" style="display: none;">
            <h3 class="step-stripe-creation__section-title">Subscription Pricing</h3>
            
            <div class="step-stripe-creation__field-group">
                <label class="step-stripe-creation__label">
                    Monthly Price (Multi-Currency)
                </label>
                <div class="step-stripe-creation__multi-currency">
                    <div class="step-stripe-creation__currency-input">
                        <label for="subscription-price-chf" class="step-stripe-creation__currency-label">CHF</label>
                        <input type="number" id="subscription-price-chf" name="subscription_price_chf" class="step-stripe-creation__input" 
                               step="0.01" min="0" placeholder="e.g. 9.99">
                    </div>
                    <div class="step-stripe-creation__currency-input">
                        <label for="subscription-price-usd" class="step-stripe-creation__currency-label">USD</label>
                        <input type="number" id="subscription-price-usd" name="subscription_price_usd" class="step-stripe-creation__input" 
                               step="0.01" min="0" placeholder="e.g. 10.99">
                    </div>
                    <div class="step-stripe-creation__currency-input">
                        <label for="subscription-price-eur" class="step-stripe-creation__currency-label">EUR</label>
                        <input type="number" id="subscription-price-eur" name="subscription_price_eur" class="step-stripe-creation__input" 
                               step="0.01" min="0" placeholder="e.g. 9.99">
                    </div>
                    <div class="step-stripe-creation__currency-input">
                        <label for="subscription-price-gbp" class="step-stripe-creation__currency-label">GBP</label>
                        <input type="number" id="subscription-price-gbp" name="subscription_price_gbp" class="step-stripe-creation__input" 
                               step="0.01" min="0" placeholder="e.g. 8.99">
                    </div>
                </div>
                <small class="step-stripe-creation__help">Both monthly and yearly prices will be created. Yearly price is automatically calculated (monthly √ó 12 √ó 0.9). At least one currency required.</small>
                <!-- Keep old input for backward compatibility (hidden) -->
                <input type="number" id="subscription-price" name="subscription_price" class="step-stripe-creation__input" 
                       step="0.01" min="0" style="display: none;">
            </div>
        </div>

        <!-- One-Time Payment -->
        <div class="step-stripe-creation__section" id="one-time-pricing" style="display: none;">
            <h3 class="step-stripe-creation__section-title">One-Time Payment</h3>
            
            <div class="step-stripe-creation__field-group">
                <label class="step-stripe-creation__label">
                    Price (Multi-Currency)
                </label>
                <div class="step-stripe-creation__multi-currency">
                    <div class="step-stripe-creation__currency-input">
                        <label for="one-time-price-chf" class="step-stripe-creation__currency-label">CHF</label>
                        <input type="number" id="one-time-price-chf" name="one_time_price_chf" class="step-stripe-creation__input" 
                               step="0.01" min="0" placeholder="e.g. 49.99">
                    </div>
                    <div class="step-stripe-creation__currency-input">
                        <label for="one-time-price-usd" class="step-stripe-creation__currency-label">USD</label>
                        <input type="number" id="one-time-price-usd" name="one_time_price_usd" class="step-stripe-creation__input" 
                               step="0.01" min="0" placeholder="e.g. 54.99">
                    </div>
                    <div class="step-stripe-creation__currency-input">
                        <label for="one-time-price-eur" class="step-stripe-creation__currency-label">EUR</label>
                        <input type="number" id="one-time-price-eur" name="one_time_price_eur" class="step-stripe-creation__input" 
                               step="0.01" min="0" placeholder="e.g. 49.99">
                    </div>
                    <div class="step-stripe-creation__currency-input">
                        <label for="one-time-price-gbp" class="step-stripe-creation__currency-label">GBP</label>
                        <input type="number" id="one-time-price-gbp" name="one_time_price_gbp" class="step-stripe-creation__input" 
                               step="0.01" min="0" placeholder="e.g. 42.99">
                    </div>
                </div>
                <small class="step-stripe-creation__help">Single payment for lifetime access (at least one currency required)</small>
                <!-- Keep old input for backward compatibility (hidden) -->
                <input type="number" id="one-time-price" name="one_time_price" class="step-stripe-creation__input" 
                       step="0.01" min="0" style="display: none;">
            </div>
        </div>

        <!-- Trial Configuration -->
        <div class="step-stripe-creation__section" id="trial-section">
            <h3 class="step-stripe-creation__section-title">Free Trial (Optional)</h3>
            
            <div class="step-stripe-creation__field-group">
                <label for="trial-days" class="step-stripe-creation__label">
                    Trial Duration (days)
                </label>
                <input type="number" id="trial-days" name="trial_days" class="step-stripe-creation__input" 
                       min="0" max="365" value="0" placeholder="0 for no trial">
                <small class="step-stripe-creation__help">Leave at 0 if no trial is offered</small>
            </div>

            <div class="step-stripe-creation__field-group">
                <label class="step-stripe-creation__checkbox-label">
                    <input type="checkbox" id="trial-requires-payment" name="trial_requires_payment">
                    <span>Trial requires payment method</span>
                </label>
                <small class="step-stripe-creation__help">If checked, user must enter payment info to start trial</small>
            </div>
        </div>

        <!-- Create Stripe Product Button -->
        <div class="step-stripe-creation__create-section">
            <button type="button" class="step-stripe-creation__create-btn" id="create-stripe-btn">
                <span class="btn-icon">üí≥</span>
                <span>Create Stripe Product</span>
            </button>
            <small class="step-stripe-creation__help">This will create the product and prices in your Stripe account</small>
        </div>

        <!-- Stripe Status -->
        <div class="step-stripe-creation__section" id="stripe-status-section" style="display: none;">
            <h3 class="step-stripe-creation__section-title">Stripe Product Status</h3>
            <div class="step-stripe-creation__status" id="stripe-status">
                <!-- Status will be populated here -->
            </div>
            
            <!-- Stripe Action Buttons -->
            <div class="step-stripe-creation__actions" id="stripe-actions" style="display: none;">
                <button type="button" class="step-stripe-creation__action-btn step-stripe-creation__action-btn--delete" id="delete-stripe-btn">
                    <span>üóëÔ∏è</span>
                    <span>Delete Stripe Product</span>
                </button>
                <a href="#" target="_blank" class="step-stripe-creation__action-btn step-stripe-creation__action-btn--view" id="view-stripe-link">
                    <span>üëÅÔ∏è</span>
                    <span>View in Stripe Dashboard</span>
                </a>
            </div>
        </div>
    </div>
</div>

