<!DOCTYPE html>
<html lang="en">

<head>
    <!-- Sets the character encoding for the document -->
    <meta charset="UTF-8">
    
    <!-- Ensures proper rendering and touch zooming on mobile devices -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!--Browser Tab title-->
    <title>Support - BitMinded</title>
    <!--Browser Tab icon-->
    <link rel="icon" type="image/x-icon" href="../icons/favicon.ico">
    <link rel="icon" type="image/png" sizes="16x16" href="../icons/favicon-16x16.png">
    <link rel="icon" type="image/png" sizes="32x32" href="../icons/favicon-32x32.png">

    <!--iOS home-saved app icon-->
    <link rel="apple-touch-icon" href="../icons/apple-touch-icon.png">
    <!-- iOS status bar style -->
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

    <!-- Critical CSS to prevent white flash -->
    <link rel="stylesheet" href="../css/critical.css">

    <!-- Critical JavaScript for immediate initialization -->
    <script src="../js/critical.js"></script>
    
    <!-- Component Loader -->
    <script src="../components/shared/component-loader.js"></script>

    <!-- Support Page CSS -->
    <link rel="stylesheet" href="support-form.css">
    <!-- Main CSS -->
    <link rel="stylesheet" href="../css/main.css">

</head>

<body>
    <header>
        <!-- Navigation Menu Component will be loaded here -->
        
        <!-- Language Switcher Component will be loaded here -->
    </header>

    <main class="support-page">
        <section class="support-hero">
            <h1 class="translatable-content" data-i18n="support-hero-title">How can we support you today?</h1>
            <p class="support-hero__subtitle translatable-content" data-i18n="support-hero-subtitle">
                Reach out to our team for personalised guidance, technical troubleshooting, or commission inquiries.
            </p>
            <div class="support-hero__meta">
                <span class="support-hero__response-time translatable-content" data-i18n="support-response-time">Average response time: under 24 hours on business days.</span>
            </div>
        </section>

        <section class="support-quick-help">
            <h2 class="translatable-content" data-i18n="support-quick-help-title">Choose a quick-help path</h2>
            <div class="support-quick-help__cards">
                <article class="support-card" data-support-type="tech-help">
                    <h3 class="translatable-content" data-i18n="support-card-tech-help-title">Request tech help</h3>
                    <p class="translatable-content" data-i18n="support-card-tech-help-copy">Ask about any device or issue (apps, hardware, workflows) and we'll sort it together in plain language.</p>
                </article>
                <article class="support-card" data-support-type="bug">
                    <h3 class="translatable-content" data-i18n="support-card-bug-title">Report an app issue</h3>
                    <p class="translatable-content" data-i18n="support-card-bug-copy">Share steps, devices, and screenshots so we can triage fast.</p>
                </article>
                <article class="support-card" data-support-type="account">
                    <h3 class="translatable-content" data-i18n="support-card-account-title">Account or billing help</h3>
                    <p class="translatable-content" data-i18n="support-card-account-copy">Get support with BitMinded accounts, billing questions, or subscription changes.</p>
                </article>
            </div>
        </section>

        <section class="support-form-section support-form-section--hidden" id="tech-help-form-section" data-support-form-section="tech-help">
            <h2 class="translatable-content" data-i18n="support-tech-help-form-title">Request tech help</h2>
            <p class="support-form-section__helper translatable-content" data-i18n="support-tech-help-form-helper">Pick the closest topic and tell us what you need.</p>
            <form id="tech-help-form" class="support-form" novalidate>
                <div class="support-form__grid">
                    <div class="support-form__group">
                        <label for="tech-help-name" class="translatable-content" data-i18n="support-name-label">Name</label>
                        <input type="text" id="tech-help-name" name="name" autocomplete="name" required>
                    </div>
                    <div class="support-form__group">
                        <label for="tech-help-email" class="translatable-content" data-i18n="support-email-label">Email</label>
                        <input type="email" id="tech-help-email" name="email" autocomplete="email" required>
                    </div>
                </div>
                <div class="support-form__group">
                    <label for="tech-help-topic" class="translatable-content" data-i18n="support-tech-help-topic-label">What do you need help with?</label>
                    <select id="tech-help-topic" name="topic" required>
                        <option value="device-setup-or-refresh" class="translatable-content" data-i18n="support-tech-help-topic-device">Set up or refresh a device</option>
                        <option value="app-or-service-question" class="translatable-content" data-i18n="support-tech-help-topic-service">Understand how an app or service works</option>
                        <option value="digital-habits-support" class="translatable-content" data-i18n="support-tech-help-topic-habits">Build safer or calmer digital habits</option>
                        <option value="family-or-shared-devices" class="translatable-content" data-i18n="support-tech-help-topic-family">Help for family or shared devices</option>
                        <option value="something-else" class="translatable-content" data-i18n="support-tech-help-topic-other">Something else (tell us more)</option>
                    </select>
                </div>
                <div class="support-form__group support-form__group--wide">
                    <label for="tech-help-message" class="translatable-content" data-i18n="support-tech-help-details-label">Tell us what you’d like to work on</label>
                    <textarea id="tech-help-message" name="message" rows="6" required></textarea>
                </div>
                <div class="support-form__group support-form__group--wide">
                    <label for="tech-help-attachments-input" class="translatable-content" data-i18n="support-attachments-label">Attach screenshots or photos</label>
                    <div class="support-form__dropzone" id="tech-help-dropzone">
                        <div class="support-form__dropzone-instructions">
                            <span class="translatable-content" data-i18n="support-attachments-instructions">Drag & drop files, paste screenshots, or click to upload (max 5 files, 5 MB each).</span>
                        </div>
                        <input type="file" id="tech-help-attachments-input" accept=".png,.jpg,.jpeg,.gif,.webp,.pdf,.txt,.log" multiple>
                    </div>
                    <ul class="support-form__attachments" id="tech-help-attachments-list"></ul>
                    <p class="support-form__helper translatable-content" data-i18n="support-attachments-helper">Accepted: PNG, JPG, GIF, WEBP, PDF, TXT, LOG.</p>
                </div>
                <div class="support-form__actions">
                    <button type="submit" class="support-form__submit translatable-content" data-i18n="support-submit-label">Send support request</button>
                    <span class="support-form__note translatable-content" data-i18n="support-submit-note">We email a confirmation with your ticket number.</span>
                </div>
            </form>
            <output id="tech-help-form-status" class="support-form__status" aria-live="polite"></output>
        </section>

        <section class="support-form-section support-form-section--hidden" id="bug-report-form-section" data-support-form-section="bug">
            <h2 class="translatable-content" data-i18n="support-bug-form-title">Report an app issue</h2>
            <p class="support-form-section__helper translatable-content" data-i18n="support-bug-form-helper">Walk us through what you expected, what happened, and where it occurred.</p>
            <form id="bug-report-form" class="support-form" novalidate>
                <div class="support-form__grid">
                    <div class="support-form__group">
                        <label for="bug-name" class="translatable-content" data-i18n="support-name-label">Name</label>
                        <input type="text" id="bug-name" name="name" autocomplete="name" required>
                    </div>
                    <div class="support-form__group">
                        <label for="bug-email" class="translatable-content" data-i18n="support-email-label">Email</label>
                        <input type="email" id="bug-email" name="email" autocomplete="email" required>
                    </div>
                </div>
                <div class="support-form__group support-form__group--wide">
                    <label for="bug-summary" class="translatable-content" data-i18n="support-bug-summary-label">Issue summary</label>
                    <input type="text" id="bug-summary" name="summary" required>
                </div>
                <fieldset class="support-form__group support-form__group--wide support-form__group--fieldset">
                    <legend class="translatable-content" data-i18n="support-bug-steps-label">Steps to reproduce</legend>
                    <ol class="support-bug-steps" id="bug-steps-list"></ol>
                    <button type="button" class="support-form__secondary-button translatable-content" id="bug-add-step" data-i18n="support-bug-add-step">Add another step</button>
                </fieldset>
                <div class="support-form__group support-form__group--wide">
                    <label for="bug-device-details" class="translatable-content" data-i18n="support-bug-device-label">Device details</label>
                    <textarea id="bug-device-details" name="deviceDetails" rows="4" required></textarea>
                </div>
                <div class="support-form__group support-form__group--wide">
                    <label for="bug-notes" class="translatable-content" data-i18n="support-bug-notes-label">Anything else we should know?</label>
                    <textarea id="bug-notes" name="notes" rows="4"></textarea>
                </div>
                <div class="support-form__group support-form__group--wide">
                    <label for="bug-attachments-input" class="translatable-content" data-i18n="support-attachments-label">Attach screenshots or photos</label>
                    <div class="support-form__dropzone" id="bug-dropzone">
                        <div class="support-form__dropzone-instructions">
                            <span class="translatable-content" data-i18n="support-attachments-instructions">Drag & drop files, paste screenshots, or click to upload (max 5 files, 5 MB each).</span>
                        </div>
                        <input type="file" id="bug-attachments-input" accept=".png,.jpg,.jpeg,.gif,.webp,.pdf,.txt,.log" multiple>
                    </div>
                    <ul class="support-form__attachments" id="bug-attachments-list"></ul>
                    <p class="support-form__helper translatable-content" data-i18n="support-attachments-helper">Accepted: PNG, JPG, GIF, WEBP, PDF, TXT, LOG.</p>
                </div>
                <div class="support-form__actions">
                    <button type="submit" class="support-form__submit translatable-content" data-i18n="support-submit-label">Send support request</button>
                    <span class="support-form__note translatable-content" data-i18n="support-submit-note">We email a confirmation with your ticket number.</span>
                </div>
            </form>
            <output id="bug-form-status" class="support-form__status" aria-live="polite"></output>
        </section>

        <section class="support-form-section support-form-section--hidden" id="account-support-form-section" data-support-form-section="account">
            <h2 class="translatable-content" data-i18n="support-account-form-title">Account or billing help</h2>
            <p class="support-form-section__helper translatable-content" data-i18n="support-account-form-helper">Let us know what needs to be updated or unlocked for your BitMinded account.</p>
            <form id="account-support-form" class="support-form" novalidate>
                <div class="support-form__grid">
                    <div class="support-form__group">
                        <label for="account-name" class="translatable-content" data-i18n="support-name-label">Name</label>
                        <input type="text" id="account-name" name="name" autocomplete="name" required>
                    </div>
                    <div class="support-form__group">
                        <label for="account-email" class="translatable-content" data-i18n="support-email-label">Email</label>
                        <input type="email" id="account-email" name="email" autocomplete="email" required>
                    </div>
                </div>
                <div class="support-form__group">
                    <label for="account-topic" class="translatable-content" data-i18n="support-account-topic-label">What do you need help with?</label>
                    <select id="account-topic" name="topic" required>
                        <option value="billing-question" class="translatable-content" data-i18n="support-account-topic-billing">Billing question</option>
                        <option value="account-access" class="translatable-content" data-i18n="support-account-topic-access">Account access or password reset</option>
                        <option value="subscription-change" class="translatable-content" data-i18n="support-account-topic-subscription">Subscription update or cancellation</option>
                        <option value="other-account" class="translatable-content" data-i18n="support-account-topic-other">Something else with my account</option>
                    </select>
                </div>
                <div class="support-form__group support-form__group--wide">
                    <label for="account-message" class="translatable-content" data-i18n="support-account-message-label">Share the details</label>
                    <textarea id="account-message" name="message" rows="6" required></textarea>
                </div>
                <div class="support-form__group support-form__group--wide">
                    <label for="account-attachments-input" class="translatable-content" data-i18n="support-attachments-label">Attach screenshots or photos</label>
                    <div class="support-form__dropzone" id="account-dropzone">
                        <div class="support-form__dropzone-instructions">
                            <span class="translatable-content" data-i18n="support-attachments-instructions">Drag & drop files, paste screenshots, or click to upload (max 5 files, 5 MB each).</span>
                        </div>
                        <input type="file" id="account-attachments-input" accept=".png,.jpg,.jpeg,.gif,.webp,.pdf,.txt,.log" multiple>
                    </div>
                    <ul class="support-form__attachments" id="account-attachments-list"></ul>
                    <p class="support-form__helper translatable-content" data-i18n="support-attachments-helper">Accepted: PNG, JPG, GIF, WEBP, PDF, TXT, LOG.</p>
                </div>
                <div class="support-form__actions">
                    <button type="submit" class="support-form__submit translatable-content" data-i18n="support-submit-label">Send support request</button>
                    <span class="support-form__note translatable-content" data-i18n="support-submit-note">We email a confirmation with your ticket number.</span>
                </div>
            </form>
            <output id="account-form-status" class="support-form__status" aria-live="polite"></output>
        </section>

    </main>
    
    <footer>
        <!-- Theme Switcher Component will be loaded here -->
    </footer>

    <!-- Supabase client -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2/dist/umd/supabase.min.js"></script>
    <!-- Environment configuration (must load before supabase-config.js) -->
    <script src="../js/env-config.js"></script>
    <!-- Supabase configuration -->
    <script src="../js/supabase-config.js"></script>
    <!-- other scripts (includes loading screen) -->
    <script src="../js/script.js"></script>
    <!-- i18next CDN language switcher -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/i18next/25.5.2/i18next.min.js"></script>
    <!-- language switcher -->
    <script src="lang-support/lang-support.js"></script>
    <!-- Support Form JS (using Supabase + Resend) -->
    <script src="support-form.js"></script>

</body>

</html>